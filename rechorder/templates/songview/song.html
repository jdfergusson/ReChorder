{% extends 'songview/_base.html' %}
{% load static %}

{% block javascript %}
    function toggleAdd() {
        $('#transposer').hide();
        $('#btn-toggle-transposer').removeClass('img-action-selected');
        $('#editor').hide();
        $('#btn-toggle-editor').removeClass('img-action-selected');

        $('#add-actions').toggle();
        $('#btn-add-to-set').toggleClass('img-action-selected');
    }

    function toggleTransposer() {
        $('#add-actions').hide();
        $('#btn-add-to-set').removeClass('img-action-selected');
        $('#editor').hide();
        $('#btn-toggle-editor').removeClass('img-action-selected');

        $('#transposer').toggle();
        $('#btn-toggle-transposer').toggleClass('img-action-selected');
    }

    function toggleEditor() {
        $('#add-actions').hide();
        $('#btn-add-to-set').removeClass('img-action-selected');
        $('#transposer').hide();
        $('#btn-toggle-transposer').removeClass('img-action-selected');

        $('#editor').toggle();
        $('#btn-toggle-editor').toggleClass('img-action-selected');
    }

    $(function() {
        $('#add-actions').hide();
        $('#btn-add-to-set').click(toggleAdd);

        $('#editor').hide();
        $('#btn-toggle-editor').click(toggleEditor);

        $('#transposer').hide();
        $('#btn-toggle-transposer').click(toggleTransposer);
    });
{% endblock %}

{% block header %}
    {% include 'songview/_header.html' with selected="songs" %}
{% endblock %}

{% block title %}
    <h1 id="song-title">{{ song.title }}</h1><br>
    <h2 id="song-artist">{{ song.artist }}</h2><br>
    <h3>Key of: <span id="key-shown"></span>. Capo: <span id="key-capo"></span></h3><br>

    <img class="img-actions" id='btn-add-to-set' src="{% static 'songview/icons/mdi-playlist-plus.svg' %}"><img class="img-actions" id="btn-toggle-transposer" src="{% static 'songview/icons/mdi-music-accidental-natural.svg' %}"><img class='img-actions' id="btn-toggle-editor" src="{% static 'songview/icons/mdi-pencil-outline.svg' %}">

    <div id="add-actions">
        <ul>
            <li><button>Add to set list</button></li>
            <li><button>Add and go live</button></li>
        </ul>
    </div>

    {% include 'songview/_transposer.html' with sk_editable='true' %}

    {% include 'songview/_song_edit.html' %}
{% endblock %}

{% block content %}
        <div id="song">
            {% include 'songview/_print_song.html' %}
        </div>
{% endblock %}
